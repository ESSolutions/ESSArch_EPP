<div class="profile-editor">
    <div ng-if="select" id="select-view" class="select-view">
        <div class="sa-table">
            <table style="margin-top: 20px;" class="table">
                <tr>
                    <td ng-if="!saAlert">
                        <p ng-if="!saProfile.profile || !checkPermission('profiles.create_new_sa_generation')" class="table-col">{{'SUBMISSIONAGREEMENT' | translate}}</p>
                    </td>
                    <td ng-if="!saAlert"><select class="form-control table-col" ng-disabled="(saProfile.disabled)"
                            ng-model="saProfile.profile" ng-change="changeSaProfile(saProfile.profile, ip, {{saProfile.profiles.indexOf(saProfile.profile)}}); getSelectCollection(saProfile.profile, ip)"
                            ng-options="x as x.name for x in saProfile.profiles"></select></td>
                    <!--<td>
                        <button ng-if="!saProfile.locked" ng-disabled="!saProfile.profile || (ip.responsible.id != auth.id && !checkPermission('ip.lock_sa'))"
                            class="btn btn-success btn-sm lock-button" ng-click="lockSaModal(saProfile)"><i class="fa fa-lock"></i> {{'LOCK' | translate}}</button>
                        <button ng-if="saProfile.locked" class="btn btn-danger btn-sm lock-button"><i class="fa fa-lock"></i> {{'LOCKED' | translate}}</button>
                        <p class="table-col">{{}}</p>
                    </td>-->
                    <p>{{'PATH' | translate}}: {{ip.object_path}}</p>
                </tr>
            </table>
            <div uib-alert ng-if="saAlert" style="width: 100%;" ng-class="'alert-' + (saAlert.type || 'warning')">{{saAlert.msg}}</div>
            <div ng-if="editSA" id="edit-sa-view">
                <form id="editSA-form" ng-submit="vm.saveSAModal()" name="vm.editForm" novalidate>
                    <formly-form model="vm.profileModel" fields="vm.profileFields" options="vm.options" form="vm.editForm">
                    </formly-form>
                </form>
                <button ng-if="!saProfile.locked" form="editSA-form" ng-disabled="vm.editForm.$invalid || extendedEqual(vm.profileOldModel, vm.profileModel)"
                    type="submit" class="btn btn-info submit-button"><i class="fa fa-floppy-o"></i> {{'SAVESAPROFILE' | translate}}</button>
            </div>
        </div>
        <div ng-if="saProfile.profile" id="edit-view" class="edit-view">
            <form id="edit-form" ng-submit="vm.saveModal()" name="vm.editForm" novalidate>
                <b>AIP - {{saProfile.profile.profile_aip.profile_name}}</b>
                <formly-form model="vm.profileModel" fields="vm.profileFields" options="vm.options" form="vm.editForm">
                </formly-form>
            </form>
        </div>
    </div>
</div>