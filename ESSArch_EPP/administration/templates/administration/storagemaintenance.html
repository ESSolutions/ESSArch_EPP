{% extends 'admin/base_site.html' %}
{% load dictionary_extras %}
{% load js staticfiles%}
{% load url from future %}

{% block server-side-base %}active{% endblock %}

{% block container %}

<H1>{{ label }}</H1>
<br/>

<table id="archiveobject-table" ></table>
<div class="row">
	<button type="button" class="btn btn-small" data-toggle="collapse" data-target="#need_to_migrate">-</button>
	<span>Need to migrate</span>
</div>

<div id="need_to_migrate" class="row collapse in">
    <table id="need_to_migrate-table" class="span12 display table table-bordered table-condensed">
        <thead>
            <tr>
            	<th>MediumID</th>
            	<th>CreateDate</th>
            	<th>Location</th>
            	<th>ObjectIdentifierValue</th>
            	<th>ObjectUUID</th>
            </tr>
        </thead>
        <tbody></tbody>
        <tfoot></tfoot>
    </table>
</div>

<div class="row">
	<button type="button" class="btn btn-small" data-toggle="collapse" data-target="#deactivate_media">-</button>
	<span>Deactivate storage medium</span>
</div>

<div id="deactivate_media" class="row collapse in">
    <table id="deactivate_media-table" class="span12 display table table-bordered table-condensed">
        <thead>
            <tr>
            	<th>MediumID</th>
            </tr>
        </thead>
        <tbody></tbody>
        <tfoot></tfoot>
    </table>
</div>

<!--
<div class="row">
    <pre data-url="{% static "administration/js/storagemaintenance.js" %}" class="javascript"/>
</div>
-->

{% endblock %}

{% block app-extra-script %}
    {% js "TableTools/media/js/TableTools.min.js" %}
    {% js "administration/js/eztables.demo.js" %}
	{% js "administration/js/storagemaintenance.js" %}

	<script>	
		$(".btn[data-toggle='collapse']").click(function()
			{
	    		$(this).text(function(i,old)
    				{
	        			return old=='+' ?  '-' : '+';
	    		});
		});
	
   $.getJSON( "{% url 'storagemaintenance-dt' %}", function(migrationlists1) {

	   console.dir(migrationlists1);

			});
		
		
	</script>
<!--
<script>
$(document).ready(function() {
	function deffnFilterColumn(i) {
    	var oTable = $('#archiveobject-table').dataTable();
    	oTable.fnFilter(
            $("#filter-"+i).val(),
            i
        );
        alert('setdef:'+i+' value:'+$("#filter-"+i).val())
    }
	var test = $('#filter-3').attr('value');
	if (test) {
		deffnFilterColumn('2')
    	//alert('filter-2'+test)
   }
} );
</script>
-->
{% endblock %}
