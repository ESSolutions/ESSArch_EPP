{
    "-name": "premis",
    "-min": "1",
    "-max": "1",
    "-allowEmpty": "0",
    "-namespace": "premis",
    "-nsmap": {
        "premis": "http://www.loc.gov/premis/v3",
        "xsi": "http://www.w3.org/2001/XMLSchema-instance"
    },
    "-attr": [
        {
            "-name": "version",
            "#content": [
                {
                    "text": "3.0"
                }
            ],
            "-req": 1
        },
        {
            "-name": "schemaLocation",
            "#content": [
                {
                    "text": "http://www.loc.gov/premis/v3 http://www.loc.gov/standards/premis/premis.xsd"
                }
            ],
            "-namespace": "xsi"
        }
    ],
    "-children":[
        {
            "-name": "object",
            "-namespace": "premis",
            "-attr": [
                {
                  "-name": "type",
                  "-namespace": "xsi",
                  "-req": "1",
                  "#content": [{"text":"premis:file"}]
                }
            ],
            "-children": [
                {
                    "-name": "objectIdentifier",
                    "-namespace": "premis",
                    "-children": [
                        {
                            "-name": "objectIdentifierType",
                            "-namespace": "premis",
                            "#content": [{"var":"_OBJECT_IDENTIFIER_TYPE"}]
                        },
                        {
                            "-name": "objectIdentifierValue",
                            "-namespace": "premis",
                            "#content": [{"var":"_OBJID"}]
                        }
                    ]
                },
                {
                    "-name": "preservationLevel",
                    "-namespace": "premis",
                    "-skipIfNoChildren": true,
                    "-children": [{
                        "-name": "preservationLevelValue",
                        "-namespace": "premis",
                        "-hideEmptyContent": true,
                        "#content": [{"var": "preservation_level_value", "default": 0}]
                    }]
                },
                {
                    "-name": "objectCharacteristics",
                    "-namespace": "premis",
                    "-children": [
                        {
                            "-name": "compositionLevel",
                            "-namespace": "premis",
                            "#content": [{"var": "composition_level", "default": 0}]
                        },
                        {
                            "-name": "format",
                            "-namespace": "premis",
                            "-children": [
                                {
                                    "-name": "formatDesignation",
                                    "-namespace": "premis",
                                    "-children": [
                                        {
                                            "-name": "formatName",
                                            "-namespace": "premis",
                                            "#content": [{"var": "$transfer_project__container_format"}]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "-name": "storage",
                    "-namespace": "premis",
                    "-children": [
                        {
                            "-name": "storageMedium",
                            "-namespace": "premis",
                            "#content": [{"var": "storage_medium", "default": "ESSArch"}]
                        }
                    ]
                }
            ]
        },
        {
            "-name": "object",
            "-namespace": "premis",
            "-containsFiles": true,
            "-attr": [
                {
                  "-name": "type",
                  "-namespace": "xsi",
                  "-req": "1",
                  "#content": [{"text":"premis:file"}]
                }
            ],
            "-children": [
                {
                    "-name": "objectIdentifier",
                    "-namespace": "premis",
                    "-children": [
                        {
                            "-name": "objectIdentifierType",
                            "-namespace": "premis",
                            "#content": [{"var":"_OBJECT_IDENTIFIER_TYPE"}]
                        },
                        {
                            "-name": "objectIdentifierValue",
                            "-namespace": "premis",
                            "#content": [{"var":"_OBJID"},{"text": "/"},{"var":"href"}]
                        }
                    ]
                },
                {
                    "-name": "objectCharacteristics",
                    "-namespace": "premis",
                    "-children": [
                        {
                            "-name": "compositionLevel",
                            "-namespace": "premis",
                            "#content": [{"var": "composition_level", "default": 0}]
                        },
                        {
                            "-name": "fixity",
                            "-namespace": "premis",
                            "-children": [
                                {
                                    "-name": "messageDigestAlgorithm",
                                    "-namespace": "premis",
                                    "#content": [{"var": "FChecksumType"}]
                                },
                                {
                                    "-name": "messageDigest",
                                    "-namespace": "premis",
                                    "#content": [{"var":"FChecksum"}]
                                },
                                {
                                    "-name": "messageDigestOriginator",
                                    "-namespace": "premis",
                                    "#content": [{"var": "FChecksumLib"}]
                                }
                            ]
                        },
                        {
                            "-name": "size",
                            "-namespace": "premis",
                            "#content": [{"var": "FSize"}]
                        },
                        {
                            "-name": "format",
                            "-namespace": "premis",
                            "-children": [
                                {
                                    "-name": "formatDesignation",
                                    "-namespace": "premis",
                                    "-children": [
                                        {
                                            "-name": "formatName",
                                            "-namespace": "premis",
                                            "#content": [{"var": "FFormatName"}]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "-name": "storage",
                    "-namespace": "premis",
                    "-children": [
                        {
                            "-name": "contentLocation",
                            "-namespace": "premis",
                            "-requiredParameters": ["_CONTENT_LOCATION_TYPE"],
                            "-children": [
                                {
                                    "-name": "contentLocationType",
                                    "-namespace": "premis",
                                    "#content": [{"var": "_CONTENT_LOCATION_TYPE"}]
                                },
                                {
                                    "-name": "contentLocationValue",
                                    "-namespace": "premis",
                                    "#content": [{"var": "_OBJID"}]
                                }
                            ]
                        }
                    ]
                },
                {
                    "-name": "relationship",
                    "-namespace": "premis",
                    "-children": [
                        {
                            "-name": "relationshipType",
                            "-namespace": "premis",
                            "#content": [{"text": "structural"}]
                        },
                        {
                            "-name": "relationshipSubType",
                            "-namespace": "premis",
                            "#content": [{"text": "is part of"}]
                        },
                        {
                            "-name": "relatedObjectIdentifier",
                            "-namespace": "premis",
                            "-children": [
                                {
                                    "-name": "relatedObjectIdentifierType",
                                    "-namespace": "premis",
                                    "#content": [{"var": "_RELATED_OBJECT_IDENTIFIER_TYPE"}]
                                },
                                {
                                    "-name": "relatedObjectIdentifierValue",
                                    "-namespace": "premis",
                                    "#content": [{"var": "_OBJID"}]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "-name": "agent",
            "-namespace": "premis",
            "-children": [
                {
                    "-name": "agentIdentifier",
                    "-namespace": "premis",
                    "-children": [
                        {
                            "-name": "agentIdentifierType",
                            "-namespace": "premis",
                            "#content": [{"var":"_AGENT_IDENTIFIER_TYPE"}]
                        },
                        {
                            "-name": "agentIdentifierValue",
                            "-namespace": "premis",
                            "#content": [{"var":"agent_identifier_value"}]
                        }
                    ]
                },
                {
                    "-name": "agentName",
                    "-namespace": "premis",
                    "#content": [{"var": "agent_name"}]
                },
                {
                    "-name": "agentType",
                    "-namespace": "premis",
                    "#content": [{"text": "software"}]
                }
            ]
        }
    ]
}
