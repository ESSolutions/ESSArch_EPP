{
  "name": "EPP (ESSArch Preservation Platform)",
  "tagline": "EPP (ESSArch Preservation Platform) - an practical implementation of the OAIS (Reference Model for an Open Archival Information System) ",
  "body": "# EPP (ESSArch Preservation Platform)\r\n\r\nEPP (ESSArch Preservation Platform) - an practical implementation of the OAIS (Reference Model for an Open Archival Information System)\r\n\r\n# Installation Guide\r\n\r\n## Prerequisites\r\n\r\nHardware configuration for server, network and storage architecture is not affected in this guide. Software configurations for server operating systems occur preferably before the installation of ESSArch begins. The installation is expected to be done as user 'root'.\r\n\r\n## Supported OS platforms\r\n\r\n| **OS** | **Version** |   |\r\n| --- | --- | --- |\r\n| CentOS | 5.5 (x86\\_64) |   |\r\n| CentOS | 6.4 (x86\\_64) | CentOS release 6.6 (Final) |\r\n| Redhat Enterprise Server | 5 (x86\\_64) |   |\r\n| SUSE Linux Enterprise Server | 10 (x86\\_64) |   |\r\n| SUSE Linux Enterprise Server | 11 (x86\\_64) SP3 |   |\r\n| Fedora | 11 (x86\\_64) |   |\r\n\r\n## OS Packages\r\n\r\nBefore installing ESSArch you need to verify that the following packages are installed on your platform\r\n\r\n| **Package** | **Minimum version** | **Note** | **Verified version** |\r\n| --- | --- | --- | --- |\r\n| kernel-devel | 2.6.x |   | kernel-devel-2.6.32-504.el6.x86\\_64 |\r\n| sysstat | 7.x |   | sysstat-9.0.4-27.el6.x86\\_64 |\r\n| make | 3.81-15 |   | make-3.81-20.el6.x86\\_64 |\r\n| patch | 2.6.1-1 |   | patch-2.6-6.el6.x86\\_64 |\r\n| erlang \\*\\* | R12B-5.8 |   | erlang-R14B-04.3.el6.x86\\_64 |\r\n| gcc | 4.1.2 |   | gcc-4.4.7-11.el6.x86\\_64 |\r\n| gcc-c++ | 4.1.2 |   | gcc-c++-4.4.7-11.el6.x86\\_64 |\r\n| ppenssl | 0.9.8 |   | openssl-1.0.1e-30.el6.x86\\_64 |\r\n| openssl-devel | 0.9.8 |   | openssl-devel-1.0.1e-30.el6.x86\\_64 |\r\n| openldap | 2.3.43 |   | openldap-2.4.39-8.el6.x86\\_64 |\r\n| openldap-devel | 2.3.43 |   | openldap-devel-2.4.39-8.el6.x86\\_64 |\r\n| mt-st | 0.9b |   | mt-st-1.1-5.el6.x86\\_64 |\r\n| mtx | 1.2.18 |   | mtx-1.3.12-5.el6.x86\\_64 |\r\n| sg3\\_utils | 1.25 |   | sg3\\_utils-1.28-6.el6.x86\\_64 |\r\n| sg3\\_utils-libs | 1.25 |   | sg3\\_utils-libs-1.28-6.el6.x86\\_64 |\r\n| sg3\\_utils-devel | 1.25 |   | sg3\\_utils-devel-1.28-6.el6.x86\\_64 |\r\n| mysql | 5.0.77 |   | mysql-5.1.73-3.el6\\_5.x86\\_64 |\r\n| mysql-server | 5.0.77 |   | mysql-server-5.1.73-3.el6\\_5.x86\\_64 |\r\n| mysql-devel | 5.0.77 |   | mysql-devel-5.1.73-3.el6\\_5.x86\\_64 |\r\n| mysql-libs | 5.0.77 |   | mysql-libs-5.1.73-3.el6\\_5.x86\\_64 |\r\n| gnutls | 1.4.1 |   | gnutls-2.8.5-14.el6\\_5.x86\\_64 |\r\n| readline | 5.1.3 |   | readline-6.0-4.el6.x86\\_64 |\r\n| readline-devel | 5.1.3 |   | readline-devel-6.0-4.el6.x86\\_64 |\r\n| unixODBC | 2.2.11 |   | unixODBC-2.2.14-14.el6.x86\\_64 |\r\n| unixODBC-devel | 2.2.11 |   | unixODBC-devel-2.2.14-14.el6.x86\\_64 |\r\n| freetds | 0.64 |   | freetds-0.91-2.el6.x86\\_64 |\r\n| freetds-devel | 0.64 |   | freetds-devel-0.91-2.el6.x86\\_64 |\r\n| pcre | 7.8 |   | pcre-7.8-6.el6.x86\\_64 |\r\n| pcre-devel | 7.8 |   | pcre-devel-7.8-6.el6.x86\\_64 |\r\n| lzo | 2.03-2 |   | lzo-2.03-3.1.el6\\_5.1.x86\\_64 |\r\n| lzo-devel | 2.03-2 |   | lzo-devel-2.03-3.1.el6\\_5.1.x86\\_64 |\r\n| xz | 4.999.9-0.1 |   | xz-4.999.9-0.5.beta.20091007git.el6.x86\\_64 |\r\n| bzip2-devel (libbz2-devel) | 1.0.5-5 |   | bzip2-devel-1.0.5-7.el6\\_0.x86\\_64 |\r\n| libffi-devel | 3.0.5-3.2 |   | libffi-devel.x86\\_64 0:3.0.5-3.2.el6 |\r\n| sqlite-devel | 3.6 |   | 3.6.20-1.el6.x86\\_64 |\r\n\r\n\\*\\* Centos require extra package: [epel-release](http://ftp.acc.umu.se/mirror/fedora/epel/6/i386/epel-release-6-8.noarch.rpm)\r\n\r\n## Prepare Environment\r\n\r\n### Create user and group\r\n\r\nDon't forget to create /home/arch\r\n\r\n    Please run the following command as user root.\r\n    # groupadd arch\r\n    # useradd -c \"ESSArch System Account\" -m -g arch arch\r\n\r\n### Set password for arch user\r\n\r\n    Please run the following command as user root.\r\n    # passwd arch\r\n    Changing password for user arch.\r\n    New UNIX password: password\r\n    Retype new UNIX password: password\r\n\r\n### Customize user environment for arch user\r\n\r\nAdd the following rows to /home/arch/.bash_profile:\r\n\r\n    ### ESSArch start\r\n    ##\r\n    export PATH=/ESSArch/pd/python/bin:$PATH:/usr/sbin\r\n    export LANG=en_US.UTF-8\r\n    export LD_LIBRARY_PATH=/ESSArch/pd/python/lib:/ESSArch/pd/libxslt/lib:/ESSArch/pd/libxml/lib:$LD_LIBRARY_PATH\r\n    export EPP=/ESSArch/pd/python/lib/python2.7/site-packages/ESSArch_EPP\r\n    export PYTHONPATH=$EPP:$EPP/workers:/ESSArch/config\r\n    export DJANGO_SETTINGS_MODULE=config.settings\r\n    alias bin='cd /ESSArch/bin'\r\n    alias log='cd /ESSArch/log'\r\n    ##\r\n    ### ESSArch end\r\n\r\n### Create installation directory\r\n\r\n    Please run the following command as user root.\r\n    # mkdir /ESSArch\r\n    # chown -R arch:arch /ESSArch\r\n\r\n## Installation\r\n\r\n### EPP installation script\r\n\r\n    Change to user \"arch\" with the following command.\r\n    # su - arch\r\n\r\n    Download and extract ESSArch_EPP_install tarfile.\r\n    [arch@server ~]$ wget http://xxx.xxx.xxx.xxx/ESSArch_EPP_installer_xxxxxxxxxxxx.tar.gz\r\n    [arch@server ~]$ tar xvf ESSArch_EPP_installer_xxxxxxxxxxxx.tar.gz\r\n    [arch@server ~]$ cd ESSArch_EPP_installer\r\n    [arch@server ~]$ ./install\r\n    \r\n    The installation of ESSArch is now running and dependent on hardware configuration, the installation may take some time. To see details of the installation progress please start a new terminal window and run the following command.\r\n    [arch@server ~]$ tail -f /ESSArch/install.log\r\n    \r\n    When installation is finished, search in the log file /ESSArch/install.log for any unexpected errors indicating failure of installation of any modules.\r\n\r\n### Installation of Advanced Message Queuing Protocol\r\n\r\nESSArch is designed to be AMQP (Advanced Message Queuing Protocol) independent. However the installation package is prepared for RabbitMQ and the following instructions assume that you use RabbitMQ.\r\n\r\nFollow the instructions below in order to install RabbitMQ required by ESSArch.\r\n\r\n    Please run the following commands as root user.\r\n    # rpm -i /ESSArch/install/packages/rabbitmq-server.rpm\r\n    # chkconfig rabbitmq-server on\r\n    # service rabbitmq-server start\r\n\r\nIf startup failed and you see an error message in /var/log/rabbitmq/startup_log  after a minute or so like:\r\n\r\nERROR: epmd error for host \"yourhostname\": timeout (timed out)_\r\n\r\nThen you need to update your /etc/hosts file to add your hostname to the list of localhost:\r\n\r\n127.0.0.1    yourhostname\r\n\r\n## Configuring\r\n\r\n### Apache httpd configuration\r\n\r\n    Edit file /ESSArch/config/httpd-epp.conf and change the configuration entry for \"ServerName\" to same as the hostname of the ESSArch server.\r\n\r\n    For test purpose you can use the existing configuration for SSL certificate, but for production environment and for maximum security we recommend generating your own SSL certificate or if you have your own SSL trusted certificate install them in the apache httpd configuration.\r\n\r\n### ESSArch configuration\r\n\r\n    In /ESSArch/config you will find all the configuration files for ESSArch. The main configuration file for ESSArch WEB GUI is local_settings.py.\r\n    \r\n    For ESSArch you will find the configuration in the local database tables. To change the configuration please login as admin user is EPP and select menu MANAGEMENT > Configuration\r\n\r\n## Database\r\n\r\nESSArch is designed to be RDBMS-independent. However the installation package is prepared for MySQL and the following instructions assume that you use MySQL.\r\n\r\n### MySQL\r\n\r\nPlease note that the MySQL JDBC driver provided by the installer requires MySQL version 5.x or higher.\r\n\r\nFollow the instructions below in order to create the user and tables required by EPP installation.\r\n\r\n    To enable MySQL on CentOS 5.5 use the following commands.\r\n    /sbin/chkconfig mysqld on\r\n    /sbin/service mysqld start\r\n    /usr/bin/mysql_secure_installation\r\n    \r\n    The MySQL commands listed below can be run within the mysql program, which may be invoked as follows.\r\n    # mysql -u root -p\r\n    \r\n    Create the database. For example, to create a database named \"essarch\", enter.\r\n    mysql> CREATE DATABASE essarch DEFAULT CHARACTER SET utf8;\r\n    \r\n    Set username, password and permissions for the database. For example, to set the permissions for user \"arkiv\" with password \"password\" on database \"essarch\", enter:\r\n    mysql> GRANT ALL ON essarch.* TO arkiv@localhost IDENTIFIED BY 'password';\r\n    \r\n### Create default tables in database\r\n\r\n    Please run the following command as user: arch\r\n    [arch@server ~]$ python $EPP/manage.py migrate\r\n\r\n### Add default configuration data to database\r\n\r\nUse only this default configuration for test purpose, do not install this default configuration in production.\r\n\r\nFor production environment you should first make a copy of this configuration file and update for example site_profile, site_name. After you done all your updates you install it.\r\n\r\n    Please run the following command as user: arch\r\n    [arch@server ~]$ python $EPP/extra/install_config.py\r\n\r\n### For production/custom installation\r\n\r\n    [arch@server ~]$ cp $EPP/extra/install_config.py /home/arch/install_config_epp_custom.py\r\n\r\nUpdate /home/arch/install_config_epp_custom.py\r\n\r\nInstall configuration:\r\n    \r\n    [arch@server ~]$ python /home/arch/install_config_epp_custom.py\r\n\r\n## Enable automatic startup at system boot\r\n\r\n    Login as root user and set EPP path variable:\r\n    # export EPP=/ESSArch/pd/python/lib/python2.7/site-packages/ESSArch_EPP\r\n\r\n### Enable workerprocess\r\n\r\n    Please run the following commands as root user.\r\n    # cp $EPP/extra/celeryd.sh /etc/init.d/celeryd\r\n    # chmod 744 /etc/init.d/celeryd\r\n    # chkconfig celeryd on\r\n    # cp $EPP/extra/celerybeat.sh /etc/init.d/celerybeat\r\n    # chmod 744 /etc/init.d/celerybeat\r\n    # chkconfig celerybeat on\r\n\r\n### Enable automatic startup of Apache HTTPD\r\n\r\n    Please run the following command as user root.\r\n    # cp $EPP/extra/httpd.sh /etc/init.d/httpd\r\n    # chmod 744 /etc/init.d/httpd\r\n    # chkconfig httpd on\r\n\r\n### Enable EPP server processes\r\n\r\n    Please run the following command as user root.\r\n    # cp $EPP/extra/ESSArch.sh /etc/init.d/essarch\r\n    # chmod 744 /etc/init.d/essarch\r\n    # chkconfig essarch on\r\n\r\n### Enable automatic backup of MySQL\r\n\r\n    Please run the following command as user root.\r\n    # cp /ESSArch/config/automysqlbackup/runmysqlbackup /etc/cron.daily/runmysqlbackup\r\n    # chmod 744 /etc/cron.daily/runmysqlbackup\r\n\r\n# Running the EPP Server\r\n\r\n## Start EPP server\r\n\r\nNote that a startup or shutdown of EPP should always be controlled.\r\n\r\n    Please run the following command as user root to start EPP.\r\n    # service celeryd start\r\n    # service celerybeat start\r\n    # service essarch start\r\n    # service httpd start\r\n\r\n## Stop EPP server\r\n\r\n    Please run the following command as user root to stop EPP.\r\n    # service httpd stop\r\n    # service essarch stop\r\n    # service celeryd stop\r\n    # service celerybeat stop\r\n\r\n## Start EPP WEB interface\r\n\r\nStart your preferable web browser and connect to EPP Server name or IP address.\r\n\r\nURL: [https://xxxxxxxx](https://xxxxxxxx)\r\n\r\nBy default, for test purpose, the installation has configured the following users:\r\n\r\n| **Username** | **Password** | **Role/Permissions** |\r\n| --- | --- | --- |\r\n| user | user | ingest, access, storage |\r\n| admin | admin | ingest, access, storage, admin |\r\n| sysadmin | sysadmin | System admin, configuration, users |\r\n\r\n## Important files to backup\r\n\r\nImportant data in ESSArch to backup is the configuration, log files and database. All areas which are mounted from external file servers should be backed up.\r\n\r\nEverything in the file area /ESSArch should be backed up before and after configuration changes or changes in ESSArch system installation, for example when upgrading and software patches.\r\n\r\nAreas that need to be backed up to an external \"backup system\" daily is the following:\r\n\r\n- /ESSArch/backups_mysql\r\n- /ESSArch/config\r\n- /ESSArch/log\r\n- /ESSArch/data\r\n\r\n##Events and log information\r\n\r\nDifferent types of events are logged both in physical files and tables in ESSArch database. Log entries are tagged with the log level - Debug, Critical, Error, Warning, Info. These log levels can be felt by the EPP's system logs:\r\n\r\n- /ESSArch/log\r\n- /ESSArch/log/AccessEngine.log\r\n- /ESSArch/log/administration.log\r\n- /ESSArch/log/AIPChecksum.log\r\n- /ESSArch/log/AIPCreator.log\r\n- /ESSArch/log/AIPPurge.log\r\n- /ESSArch/log/AIPValidate.log\r\n- /ESSArch/log/AIPWriter.log\r\n- /ESSArch/log/celerybeat.log\r\n- /ESSArch/log/celery_smdisk1.log\r\n- /ESSArch/log/celery_smtape1.log\r\n- /ESSArch/log/celery_worker1.log\r\n- /ESSArch/log/controlarea.log\r\n- /ESSArch/log/db_sync_ais.log\r\n- /ESSArch/log/ESSArch_db.log\r\n- /ESSArch/log/ESSArch.log\r\n- /ESSArch/log/ESSArch_request.log\r\n- /ESSArch/log/ESSArch.log\r\n- /ESSArch/log/ESSlogging.log\r\n- /ESSArch/log/FTPServer.log\r\n- /ESSArch/log/httpd_access.log\r\n- /ESSArch/log/httpd_error.log\r\n- /ESSArch/log/httpd_ssl_request.log\r\n- /ESSArch/log/install.log\r\n- /ESSArch/log/monitoring.log\r\n- /ESSArch/log/SIPReceiver.log\r\n- /ESSArch/log/SIPRemove.log\r\n- /ESSArch/log/SIPValidateAIS.log\r\n- /ESSArch/log/SIPValidateApproval.log\r\n- /ESSArch/log/SIPValidateFormat.log\r\n- /ESSArch/log/Storage.log\r\n- /ESSArch/log/storageLogistics.log\r\n- /ESSArch/log/storagemaintenance.log\r\n- /ESSArch/log/StorageMethodDisk.log\r\n- /ESSArch/log/StorageMethodTape.log\r\n- /ESSArch/log/TLD.log\r\n\r\n# Service och support\r\n\r\nService and support on EPP is regulated in maintenance contract with ES Solutions AB. A case is registered on the support portal http://projects.essolutions.se\r\n",
  "google": "",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}