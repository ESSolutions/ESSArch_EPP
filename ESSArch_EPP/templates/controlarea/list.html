{% extends 'index.html' %}

{% block content %}

<div style="margin:20px">
<H1>{{ label }}</H1>

<br/>

<div class="results">
  <table id="result_list">
    <thead>
      <tr>
                {% if type == 'FromRec' %}
                    <th>Media</th>
                {% else %}
                	<th>Generation</th>
        	    {% endif %}
                <th>Creator</th>
                <th>Label</th>
                <th>Create date</th>
                <th>Period start date</th>
                <th>Period end date</th>
                <th>IP type</th>
                <th>IP (UUID)</th>
                <th>State</th>
      </tr>
    </thead>
    <tbody>
      	{% if type == 'FromRec' %}
	      	{% for ip in filelist %}
		      	<tr class="row{% cycle '1' '2' %}">
					{% if not ip.uuid == '' %}
						<td><a href="{% url controlarea_checkinfromreception ip.uuid %}">{{ ip.media }}</a></td>
					{% else %}
						<td>{{ ip.media }}</td>
					{% endif %}
					<td>{{ ip.creator }}</td>
					<td>{{ ip.label }}</td>
					<td>{{ ip.createdate }}</td>
					<td>{{ ip.startdate }}</td>
					<td>{{ ip.enddate }}</td>
					<td>{{ ip.iptype }}</td>
					<td>{{ ip.uuid }}</td>
					<td>{{ ip.state }}</td>
		      	</tr>
	      	{% endfor %}
	    {% else %}
	    	{% for aic_obj,ip_obj,ip_obj_data,ip_obj_metadata in ip_list %}
		      	<tr class="row{% cycle '1' '2' %}">
					{% if type == 'ToWork' %}
						<td><a href="{% url controlarea_checkouttowork ip_obj.pk %}">IP_{{ ip_obj.Generation }}</a></td>
					{% elif type == 'FromWork' %}
						<td><a href="{% url controlarea_checkinfromwork ip_obj.pk %}">IP_{{ ip_obj.Generation }}</a></td>
					{% elif type == 'DiffCheck' %}
						<td><a href="{% url controlarea_diffcheckwork ip_obj.pk %}">IP_{{ ip_obj.Generation }}</a></td>
					{% elif type == 'ToIngest' %}
						<td><a href="{% url controlarea_ingestip ip_obj.pk %}">IP_{{ ip_obj.Generation }}</a></td>
					{% endif %}
					<td>{{ ip_obj_data.creator }}</td>
					<td>{{ aic_obj.ObjectUUID }}</td>
					<td>{{ 'ip_obj_data.createdate' }}</td>
					<td>{{ 'ip_obj_data.startdate' }}</td>
					<td>{{ 'ip_obj_data.enddate' }}</td>
					<td>{{ ip_obj.OAISPackageType }}</td>
					<td>{{ ip_obj.ObjectUUID }}</td>
					<td>{{ ip_obj.StatusProcess }}</td>
		      	</tr>
	      	{% endfor %}
      	{% endif %}
    </tbody>
  </table>
</div>

</div>

{% endblock %}
