<div class="top-alert-container" ng-if="vm.visible">
    <div class="angular-animate alert-list">
        <div class="text-center notification-title">
            <span class="float-left text-center" tooltip-placement="right" uib-tooltip="{{vm.notificationsEnabled?'NOTIFICATIONS_ENABLED':'NOTIFICATIONS_DISABLED' | translate}}">
                <input type="checkbox" ng-change="vm.updateEnabledStatus(vm.notificationsEnabled)" ng-model="vm.notificationsEnabled"/>
            </span>
            {{'NOTIFICATIONS' | translate}}
            <a class="float-right show-sm" ng-click="vm.toggleAlert()">
                {{'CLOSE' | translate}}
            </a>
        </div>
        <div on-scroll="vm.nextPage()" class="notification-table-wrapper">
            <table class="table">
                <tbody>
                    <tr ng-repeat="x in vm.alerts" class="top-alert-expand alert-list-item angular-animate">
                        <td class="alert-indicator-container">
                            <div>
                                <span class="alert-indicator" ng-class="x.level"></span>
                            </div>
                        </td>
                        <td class="alert-text">
                            <div ng-if="!x.options.isHtml" class="alert-message">
                                {{x.message}}
                            </div>
                            <div ng-if="x.options.isHtml" ng-bind-html="x.message" class="alert-message"/>
                            <div class="alert-date" tooltip-placement="left" uib-tooltip="{{x.time_created | date:'yyyy-MM-dd HH:mm:ss'}}">{{x.time_created | relativeDate}}</div>
                        </td>
                        <td>
                            <span ng-click="vm.removeAlert(x, $index)" class="cursor-pointer float-right">&#10005;</span>
                        </td>
                    </tr>
                    <tr ng-if="vm.nextPageLoading" class="text-center">
                        <td class="loading-column" colspan="3">{{'LOADING' | translate}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
